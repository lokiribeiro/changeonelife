{"version":3,"sources":["meteor://ðŸ’»app/imports/startup/server/childrens.js","meteor://ðŸ’»app/imports/startup/server/fixtures.js","meteor://ðŸ’»app/imports/startup/server/index.js","meteor://ðŸ’»app/imports/startup/server/methods.js","meteor://ðŸ’»app/imports/startup/server/slingshot.js","meteor://ðŸ’»app/imports/startup/server/videos.js","meteor://ðŸ’»app/imports/api/childrens.js","meteor://ðŸ’»app/imports/api/files.js","meteor://ðŸ’»app/imports/api/videos.js","meteor://ðŸ’»app/server/main.js"],"names":["Meteor","module","importSync","v","Childrens","publish","selector","options","fields","_id","number","name","location","image","url","pulse","sort","createdAt","find","Roles","Accounts","users","email","password","roles","forEach","profile","userExists","findOne","userId","createUser","addUsersToRoles","Files","Videos","methods","children","id","insert","exception","remove","video","Slingshot","fileRestrictions","allowedFileTypes","maxSize","createDirective","S3Storage","bucket","acl","authorize","key","file","metacontext","Date","now","export","Mongo","Collection"],"mappings":"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","file":"/app.js","sourcesContent":["import { Meteor } from 'meteor/meteor'\nimport { Childrens } from '/imports/api/childrens'\n\nMeteor.publish('childrens', function () {\n    const selector = {}\n    const options = {\n        fields: {_id: 1, number: 1, name: 1, location: 1, image: 1, url: 1, pulse: 1},\n        sort: {createdAt: -1},\n    }\n\n    return Childrens.find(selector, options)\n})\n","import { Meteor } from 'meteor/meteor'\nimport { Roles } from 'meteor/alanning:roles'\nimport { Accounts } from 'meteor/accounts-base'\n\nconst users = [\n    {\n        email: 'hello@mieta.io',\n        password: 'CK4pNHNcGz4Z4yitBX4Q2Q==',\n        roles: ['admin'],\n    },\n    {\n        email: 'vladimir.Bulanov@ddb.ru',\n        password: 'oVBhdqgzYHgWyYtrJu3xrw==',\n        roles: ['admin'],\n    },\n    {\n        email: 'irina.zhabura@ddb.ru',\n        password: 'wMSrTmnUWrNhKXbqLBmBmQ==',\n        roles: ['admin'],\n    },\n]\n\nusers.forEach(({ email, password, profile, roles }) => {\n    const userExists = Meteor.users.findOne({ 'emails.address': email })\n\n    if (!userExists) {\n        const userId = Accounts.createUser({ email, password, profile })\n\t\tRoles.addUsersToRoles(userId, roles)\n    }\n})\n","import './childrens'\nimport './videos'\nimport './fixtures'\nimport './methods'\nimport './slingshot'\n","import { Meteor } from 'meteor/meteor'\nimport { Childrens } from '/imports/api/childrens'\nimport { Files } from '/imports/api/files'\nimport { Videos } from '/imports/api/videos'\n\nMeteor.methods({\n\t'children.create'(children) {\n        try {\n            const id = Childrens.insert(children)\n            return id\n        }\n\n        catch(exception) {\n            return exception\n        }\n    },\n\n\t'children.delete'(userId) {\n        Childrens.remove(userId)\n\t},\n\n\t'videos.remove'() {\n\t\tVideos.remove({})\n\t},\n\n\t'videos.add'(video) {\n\t\ttry {\n            const id = Videos.insert(video)\n            return id\n        }\n\n        catch(exception) {\n            return exception\n        }\n\t},\n\n\t'file.store'(url) {\n        Files.insert(url)\n    },\n})\n","Slingshot.fileRestrictions( \"uploadToAmazonS3\", {\n    allowedFileTypes: [ \"image/png\", \"image/jpeg\", \"video/mp4\" ],\n    maxSize: 10 * 1024 * 1024\n})\n\nSlingshot.createDirective( \"uploadToAmazonS3\", Slingshot.S3Storage, {\n    bucket: \"changeonelife.ru\",\n    acl: \"public-read\",\n    authorize() {\n        return true\n    },\n    key(file, metacontext) {\n\t\t// if (metacontext) file.name = metacontext.fileName\n\t\treturn Date.now() + file.name\n    }\n})\n","import { Meteor } from 'meteor/meteor'\nimport { Videos } from '/imports/api/videos'\n\nMeteor.publish('videos', function () {\n    const selector = {}\n    const options = {}\n\n    return Videos.find(selector, options)\n})\n","import { Meteor } from 'meteor/meteor'\nimport { Mongo } from 'meteor/mongo'\n\nexport const Childrens = new Mongo.Collection('childrens')\n","import { Meteor } from 'meteor/meteor'\nimport { Mongo } from 'meteor/mongo'\n\nexport const Files = new Mongo.Collection('files')\n","import { Meteor } from 'meteor/meteor'\nimport { Mongo } from 'meteor/mongo'\n\nexport const Videos = new Mongo.Collection('videos')\n","import '/imports/startup/server'\n"]}